<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
 "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>

<style type="text/css">
  div.chunk {
    margin: 0em 0.5em;
  }
  pre {
    margin: 0em 0em;
  }

</style>

<title>Supplemental Material</title></head><body><div class="section"><h1>Supplemental Material</h1><p>
This chapter contains things that didn't make sense to include in the
main presentation.

</p></div><div class="section"><h2>Tangled Output</h2><p>
We would like to generate a tangled (runnable) version of this document.
It should be written to:
<tt><i>events.fs</i></tt>
It will contain everything that is normally run.
</p><tt><b>events.fs</b> +&equiv;</tt><div class="chunk"><pre><b>*</b>
</pre></div><p>
</p></div><div class="section"><h2>Overall Order</h2><p></p><tt><b>*</b> +&equiv;</tt><div class="chunk"><pre><b>test tools</b>
<b>required headers</b>
<b>worker count</b>
<b>request structure</b>
<b>lock and count</b>
<b>requests queue</b>
<b>results queue</b>
<b>worker implementation</b>
<b>startup routine</b>
<b>enqueue a request</b>
<b>issue requests</b>
<b>implement waiting</b>
<b>relevant constants</b>
<b>forth to c declarations</b>
<b>closures</b>
<b>dispatch events</b>
<b>do startup</b>
<b>general tests</b>
<b>do shutdown</b>
</pre></div><p>
</p></div><div class="section"><h2>Testing Tools</h2><p>We'll also define some generic test tools.
</p><tt><b>test tools</b> +&equiv;</tt><div class="chunk"><pre>: assert ( n -- ) 0= if abort then ;
: assert= ( a b -- ) = assert ;
</pre></div><p>
</p></div><div class="section"><h2>Startup and Shutdown</h2><p>
</p><tt><b>do startup</b> +&equiv;</tt><div class="chunk"><pre>async-startup
</pre></div><p>
</p><tt><b>do shutdown</b> +&equiv;</tt><div class="chunk"><pre>async-shutdown
</pre></div><p>
</p></div></body></html>