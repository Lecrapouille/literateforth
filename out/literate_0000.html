<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
 "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
<head>

<style type="text/css">
  div.chunk {
    margin: 0em 0.5em;
  }
  pre {
    margin: 0em 0em;
  }

</style>

<title>Overview</title></head><body><div class="section"><h1>Overview</h1><p></p></div><div class="section"><h2>Introduction</h2><p>
This document is a literate programming exposition of a Forth program
designed to allow literate programming directly in Forth.
</p><p>Literate programming is a technique, conceived of by Donald Knuth, in which the
documentation of a program is emphasised in precedence over the code that
implements it.
Rather than being linearly presented, code is interspersed inside documentation.
Prior to evaluation by the target language, a special pre-processor is used
to &quot;tangle&quot; the source code into a machine readable form.
</p><p>The Forth programming language has the relatively unique flexibility of
a dynamically re-definable parser. This allows the possibility of applying
literate programming techniques to Forth, without the need of external
pre-processors.
</p><p>eBook readers such as the Amazon Kindle are pleasant tools for reading
documentation.
Most literate programming tools such as WEB, CWEB, and noweb are
designed to emit <span>T<sub><big>E</big></sub>X</span> and <span>L<sup><small>A</small></sup>T<sub><big>E</big></sub>X</span> output, targeting printed output.
While these tools produce high quality printed output,
they produce eBooks which badly matched the limited feature set of eBook
formats.
Thus, the system presented emits documents in a format ready for processing
by the kindlegen MOBI document processor.
The Kindle's native format (MOBI) restricts documents to a minimalistic
format that emphasizes user text preferences over document designer layout.
While the Adobe PDF format is also supported, such documents are second class
citizens which hi-lite the wisdom of MOBI's restrictions, particularly on
eInk devices.


</p></div><div class="section"><h2>Comment Conventions</h2><p>When useful, Forth style stack effect comments
<tt>( xyz -- abc ) </tt> will be used
to describe stack effects.
</p><p>The capital letter A will be used throughout indicate the &quot;atomic string&quot;
type (described later). (e.g. <tt>( A -- f )</tt>)
</p><p>The dollar sign $ will be used to indicate an address count pair
referencing a string.
So <tt>( -- $ )</tt> will be used in place of <tt>( -- a n )</tt>.
</p><p>Other typical Forth stack effect abbreviations will be used.
</p><p>
</p><ul><li>f = flag
</li><li>a = address
</li><li>n = number (cell)
</li><li>A = atomic string
</li><li>$ = string in two element: address, length
</li></ul><p>

</p></div><div class="section"><h2>Generated Files</h2><p>
When generating runnable code (weaving),
<tt><i>literate.fs</i></tt> is emitted. This file should typically be renamed to
literate_tangled.fs and included in other literate programs to active the syntax
described herein.
</p><p>It will contain a single file expansion of all the code described in this
document.
</p><tt><b>literate.fs</b> +&equiv;</tt><div class="chunk"><pre><b>*</b>
</pre></div><p>

</p></div><div class="section"><h2>Program Overview</h2><p>This is the basic structure of the literate programming parser:
</p><tt><b>*</b> +&equiv;</tt><div class="chunk"><pre><b>isolate in wordlist</b>
<b>data structures and tools</b>
<b>user facing tags</b>
<b>primary program flow</b>
</pre></div><p>

</p></div><div class="section"><h2>Tags</h2><p>A variety of user facing formatting tags are provided.
</p><tt><b>user facing tags</b> +&equiv;</tt><div class="chunk"><pre><b>chapters</b>
<b>chapter structure</b>
<b>formatting tags</b>
<b>bullet lists</b>
<b>tex and latex shortcuts</b>
<b>arrow symbols</b>
<b>chunk tags</b>
</pre></div><p>

</p></div><div class="section"><h2>Data structures and Tools</h2><p>The data structures and tools needed to put this together are detailed.
</p><tt><b>data structures and tools</b> +&equiv;</tt><div class="chunk"><pre><b>assertion support</b>
<b>utility words</b>
<b>implement atoms</b>
<b>parsing</b>
<b>chunks</b>
<b>global fields</b>
<b>output files</b>
<b>document boundaries</b>
</pre></div><p>

</p></div></body></html>